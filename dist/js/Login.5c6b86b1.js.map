{"version":3,"sources":["webpack:///./src/assets/img/logo.png","webpack:///./src/login/login.vue?611c","webpack:///src/login/login.vue","webpack:///./src/login/login.vue?fbd3","webpack:///./src/login/login.vue","webpack:///./src/login/login.vue?e9a0","webpack:///./src/utils/check.js"],"names":["module","exports","__webpack_require__","p","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","name","on","click","showActive","_v","_s","localLanguge","src","LogoSrc","alt","directives","rawName","value","expression","$t","placeholder","model","logObj","callback","$$v","$set","type","accountLogin","maxlength","class","disable","hasGetSms","getSmsCode","smsCode","signIn","active","$event","changeLoginWay","staticRenderFns","loginvue_type_script_lang_js_","data","Object","translate","mounted","loginLoading","Toast","methods","$router","push","doAccountLogin","_this","account","password","person","show","$api","login","then","res","hide","code","localStorage","setItem","stringify_default","sessionStorage","headers","token","$store","commit","result","companyId","id","getCompanyPermissions","userId","_this2","getCompanyRole","_ref","console","log","getUserPermissions","_this3","permissions","_ref2","_this4","phone","check","conut","SMScode","Timer","setInterval","concat","clearInterval","phoneLogon","_this5","smscode","phoneObj","SMSVertify","str","_this6","$createActionSheet","content","local","onSelect","item","login_loginvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_15_5_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_stylus_loader_3_0_2_stylus_loader_index_js_ref_11_oneOf_1_2_node_modules_cache_loader_1_2_5_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_5_1_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_adfa5084_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_15_5_1_vue_loader_lib_loaders_stylePostLoader_js_node_modules_stylus_loader_3_0_2_stylus_loader_index_js_ref_11_oneOf_1_2_node_modules_cache_loader_1_2_5_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_5_1_vue_loader_lib_index_js_vue_loader_options_login_vue_vue_type_style_index_0_id_adfa5084_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","d","phoneNumCheck","emailCheck","phoneReg","emailReg","num","test"],"mappings":"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","file":"js/Login.5c6b86b1.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/logo.f3bcb14b.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loginPage\"},[_c('transition',{attrs:{\"name\":\"slide-fade\"}},[_c('div',{staticClass:\"card loginCenter\"},[_c('div',{staticClass:\"languageWarp\",on:{\"click\":_vm.showActive}},[_c('p',{staticClass:\"languageCenter\"},[_vm._v(_vm._s(_vm.localLanguge)),_c('i',{staticClass:\"iconfont icon-downarrow\"})])]),_c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":_vm.LogoSrc,\"alt\":\"\"}})]),_c('div',{staticClass:\"logForm\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.accountLogin),expression:\"accountLogin\"}],staticClass:\"account flex\"},[_c('p',[_vm._v(_vm._s(_vm.$t('loginMsg.accountPlace'))+\":\")]),_c('cube-input',{staticClass:\"input\",attrs:{\"placeholder\":_vm.$t('loginMsg.errorMsg.account')},model:{value:(_vm.logObj.account),callback:function ($$v) {_vm.$set(_vm.logObj, \"account\", $$v)},expression:\"logObj.account\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.accountLogin),expression:\"accountLogin\"}],staticClass:\"password flex\"},[_c('p',[_vm._v(_vm._s(_vm.$t('loginMsg.passwordPlace'))+\":\")]),_c('cube-input',{staticClass:\"input\",attrs:{\"type\":\"password\",\"placeholder\":_vm.$t('loginMsg.errorMsg.password')},model:{value:(_vm.logObj.password),callback:function ($$v) {_vm.$set(_vm.logObj, \"password\", $$v)},expression:\"logObj.password\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.accountLogin),expression:\"!accountLogin\"}],staticClass:\"account flex\"},[_c('p',[_vm._v(_vm._s(_vm.$t('loginMsg.phone'))+\":\")]),_c('cube-input',{staticClass:\"input\",attrs:{\"maxlength\":11,\"placeholder\":_vm.$t('loginMsg.errorMsg.phoneNub')},model:{value:(_vm.logObj.phone),callback:function ($$v) {_vm.$set(_vm.logObj, \"phone\", $$v)},expression:\"logObj.phone\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.accountLogin),expression:\"!accountLogin\"}],staticClass:\"password flex\"},[_c('p',[_vm._v(_vm._s(_vm.$t('loginMsg.smsCode'))+\":\")]),_c('cube-input',{staticClass:\"input\",attrs:{\"placeholder\":_vm.$t('loginMsg.errorMsg.smsCodeErr')},model:{value:(_vm.logObj.smscode),callback:function ($$v) {_vm.$set(_vm.logObj, \"smscode\", $$v)},expression:\"logObj.smscode\"}}),_c('div',{staticClass:\"getSmsBtn\",class:{'disable': _vm.hasGetSms},on:{\"click\":_vm.getSmsCode}},[_vm._v(_vm._s(_vm.smsCode))])],1),_c('cube-button',{attrs:{\"type\":\"submit\"},on:{\"click\":_vm.signIn}},[_vm._v(_vm._s(_vm.$t('loginMsg.loginBtn')))]),_c('div',{staticClass:\"tagWarp\"},[_c('p',{class:{'active': !_vm.accountLogin},on:{\"click\":function($event){_vm.changeLoginWay('account')}}},[_vm._v(_vm._s(_vm.$t('loginMsg.labelAccPass')))]),_c('p',{staticClass:\"smsCode\",class:{'active': _vm.accountLogin},on:{\"click\":function($event){_vm.changeLoginWay('sms')}}},[_vm._v(_vm._s(_vm.$t('loginMsg.labelSmsCode')))])])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"loginPage\">\n    <transition name='slide-fade'>\n      <div class=\"card loginCenter\">\n        <div @click=\"showActive\" class=\"languageWarp\">\n          <p class=\"languageCenter\">{{localLanguge}}<i class=\"iconfont icon-downarrow\"></i></p>\n        </div>\n        <div class=\"logo\">\n          <img :src=\"LogoSrc\" alt=\"\">\n        </div>\n        <div class=\"logForm\">\n          <div v-show=\"accountLogin\" class=\"account flex\">\n            <p>{{$t('loginMsg.accountPlace')}}:</p>\n            <cube-input class=\"input\" v-model=\"logObj.account\" :placeholder=\"$t('loginMsg.errorMsg.account')\"></cube-input>\n          </div>\n          <div v-show=\"accountLogin\" class=\"password flex\">\n            <p>{{$t('loginMsg.passwordPlace')}}:</p>\n            <cube-input class=\"input\" v-model=\"logObj.password\" type='password' :placeholder=\"$t('loginMsg.errorMsg.password')\"></cube-input>\n          </div>\n          <div v-show=\"!accountLogin\" class=\"account flex\">\n            <p>{{$t('loginMsg.phone')}}:</p>\n            <cube-input class=\"input\" v-model=\"logObj.phone\" :maxlength='11' :placeholder=\"$t('loginMsg.errorMsg.phoneNub')\"></cube-input>\n          </div>\n          <div v-show=\"!accountLogin\" class=\"password flex\">\n            <p>{{$t('loginMsg.smsCode')}}:</p>\n            <cube-input class=\"input\" v-model=\"logObj.smscode\" :placeholder=\"$t('loginMsg.errorMsg.smsCodeErr')\"></cube-input>\n            <div @click=\"getSmsCode\" :class=\"{'disable': hasGetSms}\" class=\"getSmsBtn\">{{smsCode}}</div>\n          </div>\n          <cube-button @click=\"signIn\" type=\"submit\">{{$t('loginMsg.loginBtn')}}</cube-button>\n          <div class=\"tagWarp\">\n            <p @click=\"changeLoginWay('account')\" :class=\"{'active': !accountLogin}\">{{$t('loginMsg.labelAccPass')}}</p>\n            <p @click=\"changeLoginWay('sms')\" :class=\"{'active': accountLogin}\" class=\"smsCode\">{{$t('loginMsg.labelSmsCode')}}</p>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n<script>\nimport { ToastOnlyText, ToastWithLoading } from '@/utils/Toast';\nimport { phoneNumCheck } from '../utils/check.js';\nimport t from '@/utils/translate';\nexport default {\n  name: 'login',\n  data() {\n    return {\n      LogoSrc: require('../assets/img/logo.png'),\n      localLanguge: '中文',\n      accountLogin: true,\n      smsCode: t('loginMsg.getSmsCode'),\n      logObj: {},\n      hasGetSms: false // 是否已经获取了短信验证码\n    }\n  },\n  mounted() {\n    this.loginLoading = ToastWithLoading()\n  },\n  methods: {\n    signIn() {\n      this.$router.push({ name: 'Home' })\n      // if (this.accountLogin) {\n      //   this.doAccountLogin()\n      // } else {\n      //   this.phoneLogon()\n      // }\n    },\n    doAccountLogin() {\n      if (!this.logObj.account) {\n        ToastOnlyText(t('loginMsg.errorMsg.account'))\n        return\n      }\n      if (!this.logObj.password) {\n        ToastOnlyText(t('loginMsg.errorMsg.password'))\n        return\n      }\n      const person = {\n        account: this.logObj.account,\n        password: this.logObj.password\n      };\n      this.loginLoading.show('登录中...')\n      this.$api.login(person).then(res => {\n        this.loginLoading.hide()\n        const data = res.data;\n        if (data.code === 0) {\n          localStorage.setItem('accPwd', JSON.stringify(person))\n          sessionStorage.setItem('token', res.headers.token);\n          sessionStorage.setItem('loginData', JSON.stringify(data.data));\n          this.$store.commit('setUserLoginData', data.data)\n          const result = data.data;\n          const { companyId, id } = result;\n          this.getCompanyPermissions(companyId, id);\n        }\n      })\n    },\n    /* 获取公司权限 */\n    getCompanyPermissions(companyId, userId) {\n      this.$api.getCompanyRole(companyId).then(({ data }) => {\n        console.log('CompanyPermissions', data)\n        if (data.code === 0) {\n          sessionStorage.setItem('CompanyPermissions', data.data)\n          this.getUserPermissions(userId)\n        }\n      })\n    },\n    /* 获取个人权限 */\n    getUserPermissions(userId) {\n      this.$api.permissions(userId).then(({ data }) => {\n        console.log('UserPermissions', data)\n        if (data.code === 0) {\n          sessionStorage.setItem('UserPermissions', data.data)\n          this.$router.push({ name: 'Home' })\n        }\n      })\n    },\n    /* 获取验证码 */\n    getSmsCode() {\n      if (this.hasGetSms) {\n        return\n      }\n      if (!this.logObj.phone) {\n        ToastOnlyText(t('loginMsg.errorMsg.phoneNub'))\n        return\n      }\n      if (!phoneNumCheck(this.logObj.phone)) {\n        ToastOnlyText(t('loginMsg.errorMsg.checkPhone'))\n        return\n      }\n      let conut = 60;\n      this.$api.SMScode({ phone: this.logObj.phone }).then((res) => {\n        console.log(res);\n        if (res.data && res.data.code === 0) {\n          this.hasGetSms = true;\n          const Timer = setInterval(() => {\n            conut--;\n            this.smsCode = `${conut}s`;\n            if (conut < 1) {\n              this.smsCode = t('loginMsg.getSmsCode');\n              this.hasGetSms = false;\n              clearInterval(Timer);\n            }\n          }, 1000);\n          ToastOnlyText(t('loginMsg.smsSuccess'))\n        }\n      });\n    },\n    phoneLogon() {\n      if (!this.logObj.phone) {\n        ToastOnlyText(t('loginMsg.errorMsg.phoneNub'))\n        return\n      }\n      if (!phoneNumCheck(this.logObj.phone)) {\n        ToastOnlyText(t('loginMsg.errorMsg.checkPhone'))\n        return\n      }\n      if (!this.logObj.smscode) {\n        ToastOnlyText(t('loginMsg.errorMsg.smsCodeErr'))\n        return\n      }\n      const phoneObj = {\n        phone: this.logObj.phone,\n        code: this.logObj.smscode\n      };\n      this.loginLoading.show('登录中...')\n      this.$api.SMSVertify(phoneObj).then((res) => {\n        console.log(res);\n        this.loginLoading.hide()\n        const data = res.data;\n        if (data.code === 0) {\n          sessionStorage.setItem('token', res.headers.token);\n          sessionStorage.setItem('loginData', JSON.stringify(data.data));\n          this.$store.commit('setUserLoginData', data.data)\n          const result = data.data;\n          const { companyId, id } = result;\n          this.getCompanyPermissions(companyId, id);\n        }\n      });\n    },\n    /* 切换语言 */\n    changeLoginWay(str) {\n      if (str === 'account') {\n        this.accountLogin = true\n      } else {\n        this.accountLogin = false\n      }\n    },\n    showActive() {\n      this.$createActionSheet({\n        data: [\n          {\n            content: '中文',\n            local: 'zh'\n          },\n          {\n            content: 'English',\n            local: 'en'\n          }\n        ],\n        onSelect: (item) => {\n          console.log(item)\n          this.localLanguge = item.content\n        }\n      }).show()\n    }\n  }\n\n}\n\n</script>\n<style lang='stylus' scoped>\n.loginPage\n  width 100%\n  height 100%\n  // position relative\n  background-color #ffffff\n  .card\n    height 100%\n    &.ad\n      background-color $color-project-blue\n      text-align center\n      color #ffffff\n      font-size 18px\n      box-sizing border-box\n      padding-top 100px\n      img\n        display block\n        margin 0 auto\n        width 160px\n        height auto\n        margin-bottom 100px\n    &.loginCenter\n      background-color #ffffff\n      padding 0 5vw\n      .languageWarp\n        // position absolute\n        padding 20px\n        font-size 14px\n        text-align right\n        .languageCenter\n          font-size 15px\n        .iconfont\n          margin-left 5px\n          font-size 12px\n      .logo\n        padding-top 20px\n        text-align center\n        img\n          width 160px\n          height auto\n      .logForm\n        margin 40px auto 0\n        .flex\n          display flex\n          p\n            flex 0 0 80px\n            text-align center\n            line-height 40px\n          .input\n            flex 1\n          .getSmsBtn\n            flex 0 0 90px\n            box-sizing border-box\n            text-align center\n            line-height 40px\n            margin-left 20px\n            background-color $color-project-blue\n            color #fff\n            padding 0 10px\n            border-radius 5px\n            &.disable\n              background-color #c5c5c5\n        .account\n          margin-bottom 15px\n        .password\n          margin-bottom 40px\n        .tagWarp\n          display flex\n          margin-top 30px\n          p\n            flex 1\n            color #9e9e9e\n            &.active\n              color $color-project-blue\n            &.smsCode\n              text-align right\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js??ref--16-2!../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.5.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@1.2.0@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js??ref--16-2!../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.5.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=adfa5084&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=adfa5084&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.5.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"adfa5084\",\n  null\n  \n)\n\ncomponent.options.__file = \"login.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/_vue-loader@15.5.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_stylus-loader@3.0.2@stylus-loader/index.js??ref--11-oneOf-1-2!../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.5.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=adfa5084&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/_vue-loader@15.5.1@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_stylus-loader@3.0.2@stylus-loader/index.js??ref--11-oneOf-1-2!../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.5.1@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=adfa5084&lang=stylus&scoped=true&\"","const phoneReg = /^1[3|4|5|7|8][0-9]\\d{8}$/;\nconst emailReg = /^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$ /;\nexport function phoneNumCheck(num) {\n  return phoneReg.test(num);\n}\nexport function emailCheck(str) {\n  return emailReg.test(str);\n}\n"],"sourceRoot":""}