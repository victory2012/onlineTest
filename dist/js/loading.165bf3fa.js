(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["loading"],{"4ffd":function(t,e,s){t.exports=s.p+"img/logo.f3bcb14b.png"},6553:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wraper"},[s("transition",{attrs:{name:"slide-fade"}},[s("div",{staticClass:"card ad"},[s("img",{attrs:{src:t.LogoSrc,alt:""}}),t._v("\n      电池智能监控\n      ")])])],1)},o=[],a={name:"",props:[""],data:function(){return{LogoSrc:s("4ffd")}},components:{},mounted:function(){var t=this;setTimeout(function(){var e=localStorage.getItem("accPwd");if(e){var s=JSON.parse(e);t.doAccountLogin(s)}else t.$router.push({name:"login"})},3e3)},methods:{doAccountLogin:function(t){var e=this;this.$api.login(t).then(function(s){var n=s.data;if(0===n.code){localStorage.setItem("accPwd",JSON.stringify(t)),sessionStorage.setItem("token",s.headers.token),sessionStorage.setItem("loginData",JSON.stringify(n.data)),e.$store.commit("setUserLoginData",n.data);var o=n.data,a=o.companyId,i=o.id;e.getCompanyPermissions(a,i)}})},getCompanyPermissions:function(t,e){var s=this;this.$api.getCompanyRole(t).then(function(t){var n=t.data;console.log("CompanyPermissions",n),0===n.code&&(sessionStorage.setItem("CompanyPermissions",n.data),s.getUserPermissions(e))})},getUserPermissions:function(t){var e=this;this.$api.permissions(t).then(function(t){var s=t.data;console.log("UserPermissions",s),0===s.code&&(sessionStorage.setItem("UserPermissions",s.data),e.$router.push({name:"Home"}))})}}},i=a,r=(s("ebf3"),s("048f")),c=Object(r["a"])(i,n,o,!1,null,"5465956a",null);c.options.__file="loading.vue";e["default"]=c.exports},ab4e:function(t,e,s){},ebf3:function(t,e,s){"use strict";var n=s("ab4e"),o=s.n(n);o.a}}]);
//# sourceMappingURL=loading.165bf3fa.js.map